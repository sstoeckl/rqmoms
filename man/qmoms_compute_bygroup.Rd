% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/qmoms.R
\name{qmoms_compute_bygroup}
\alias{qmoms_compute_bygroup}
\title{Compute qmoms for a single grouped surface (convenience wrapper)}
\usage{
qmoms_compute_bygroup(
  groupparams,
  id = NULL,
  rate = NULL,
  days = NULL,
  date = NULL,
  cols_map = list(id = "id", date = "date", days = "days", rate = "rate", mnes = "mnes",
    impl_volatility = "impl_volatility")
)
}
\arguments{
\item{groupparams}{A two-element list: \code{list(group_df, params)} where
\code{group_df} is a data.frame/tibble containing a \emph{single} surface (same \code{id}/\code{date}/\code{days});
\code{params} is the list returned by \code{\link[=rq_default_params]{rq_default_params()}}.
\code{group_df} must include columns for moneyness and IV (defaults: \code{mnes}, \code{impl_volatility});
optionally \code{rate} if you do not pass \code{rate} explicitly.}

\item{id, date, days, rate}{Optional scalar overrides for the group keys and rate.
If \code{rate} is \code{NULL}, the function looks for a \code{rate} column in \code{group_df}.}

\item{cols_map}{Optional named list mapping required columns in \code{group_df} to the
expected names, e.g. \code{list(id = "ID", date = "Date", days = "Days", rate = "Rate", mnes = "M", impl_volatility = "IV")}.}
}
\value{
A one-row tibble with \code{id}, \code{date}, \code{days} and all qmoms metrics.
}
\description{
Accepts one (id, date, days) option surface and returns a one-row tibble with
the keys plus all qmoms metrics. Column names can be remapped via \code{cols_map}.
}
\examples{
g_all <- get_rate_for_maturity(qmoms_zerocd, df_surf = qmoms_surface)
g <- subset(g_all, id == g_all$id[1] & days == g_all$days[1])
qmoms_compute_bygroup(list(g, rq_default_params()))

}
